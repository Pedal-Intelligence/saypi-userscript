html.immersive-view {
  #saypi-panel,
  .notification {
    width: 100%;
    position: fixed;
    left: 0;
    background-color: rgba(245, 238, 223, 0.98);

    height: 100svh;
    top: 0;
  }

  #saypi-talkButton {
    background-color: #e9f5da;
    border-radius: 0;
    margin: 0;
    svg {
      width: 100vw;
      height: 100svh;
      padding: 12.5svh 0;
    }
  }

  /* Pi controls: ellipsis, experiences */
  #__next > main > div > div > div.fixed.top-4.right-6 > button,
  #saypi-experiences-button {
    transform: scale(1.5);
  }

  /* hide an ugly artifact */
  div.bg-gradient-to-b {
    display: none;
  }

  /* Pi controls: mute/unmute */
  #saypi-audio-controls {
    /* align the mute button with the horizontal control panel */
    margin-top: 0.375rem;
    /* hide the voice options */
    div.p-1 {
      display: none;
    }
    /* scale the mute button */
    button.group {
      transform: scale(1.5) !important;
      z-index: 50;
      /* hide the voice selector twisty */
      + button {
        display: none;
      }
    }
    /* make an ugly artifact transparent on pi.ai */
    div.bg-neutral-200 {
      background-color: transparent;
    }
  }

  /* fix an alignment issue with the "new ui layout" */
  .text-body-chat-m {
    padding-top: 0;
  }

  .saypi-enter-button {
    display: none;
  }

  #saypi-prompt-ancestor {
    /* hides the row containing the text area control */
    /* important: hides virtual keyboard on android */
    display: none;
    /* the call button, usually nested in the prompt, is detached while in mobile view */
  }

  #saypi-submitButton {
    display: none;
  }

  #saypi-callButton {
    position: fixed;
    bottom: 4rem;
    left: 0;
    right: 0;
    margin: auto;
    width: 4.5rem;
    height: 4.5rem;
    border: 0;
    z-index: 80;
  }

  /* hide the scrollbar */
  .scrollbar-gutter-both-edges {
    visibility: hidden;
  }

  /* hide any buttons in the control panel not relevant to mobile */
  .saypi-control-panel button:not(.saypi-control-button) {
    display: none;
  }

  /* override lg:hidden, making the control panel's buttons visible in immersive view on desktops */
  #saypi-control-panel-main.lg\:hidden {
    display: block;
  }
  /* override lg:flex-row-reverse, making the audio control button visible in immersive view on desktops */
  div.lg\:flex-row-reverse {
    flex-direction: unset;
  }
  /* hide the side panel in immersive mode */
  #saypi-side-panel.lg\:flex {
    display: none;
  }
  
  .saypi-control-panel button.theme-toggle-button {
    width: 4rem;
    padding: 6px;
  }

  #saypi-discovery-panel {
    display: none;
  }

}
html.mobile-device .chat-message .message-hover-menu .saypi-tts-controls {
  /* on mobile, tts controls are in a popup menu instead */
  display: none;
}
@import "dark-mode.scss";
@import "focus-mode.scss";
@import "lock.scss";
